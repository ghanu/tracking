<?xml version="1.0"?>
<gbase_config><tablenames>fees</tablenames><layout>vertical</layout><pageheading>Fees</pageheading><reference_tables></reference_tables><child_tables></child_tables><pagetitle>Fees</pagetitle><viewallactions></viewallactions><viewactions>%3Cdiv+id%3D%22nav-menu%22+class%3D%22toolbar%22%3E%0D%0A%3Cul%3E%0D%0A%3Cli%3E%3Ca+href%3D%22%27.AppURL.%27index.php%3Ffile%3Dreport%26id%3D7%26ppid%3D%27.%24id.%27%22+%3E%3Cimg+src%3D%22%27.AppImgURL.%27inv1.png%22%3E+Invoice%3C%2Fa%3E++++%3C%2Fli%3E%0D%0A%3Cli%3E%3Ca+href%3D%22%27.AppURL.%27index.php%3Ffile%3Dreport%26id%3D7%26ppid%3D%27.%24id.%27%26format%3Dpdf%22+%3E%3Cimg+src%3D%22%27.AppImgURL.%27pdf.png%22%3EPDF%3C%2Fa%3E%3C%2Fli%3E%0D%0A%3C%2Ful%3E%0D%0A%3C%2Fdiv%3E</viewactions><beforewrite>if($this-&gt;student_id){&#xD;
$this-&gt;table = "fees_dues";&#xD;
        $this-&gt;column = array("admission.first_name", "fees_type.fees_type", "fees_dues.fees_amount", "fees_dues.paid", "fees_dues.due_date");&#xD;
        $this-&gt;join_condition = "Join fees_type on fees_dues.fees_type_id=fees_type.id Join mclass on mclass.id=fees_dues.class_id join admission on admission.id=fees_dues.student_id";&#xD;
        $feesarray = $this-&gt;addOrderBy("fees_type.fees_priority asc")-&gt;addWhereCondition("fees_dues.student_id=" . $this-&gt;student_id)-&gt;select()-&gt;executeRead();&#xD;
        ;&#xD;
        $content_details_array["formelements"]["fees_table"] = '&lt;div&gt;' . $array[0]['first_name'] . '&lt;/div&gt;';&#xD;
        $content_details_array["formelements"]["fees_table"].= "&lt;table class='fees_table'&gt;";&#xD;
        $content_details_array["formelements"]["fees_table"].='&lt;thead&gt;&lt;tr&gt;&lt;td&gt;Fees Type&lt;/td&gt;&lt;td&gt;Amount&lt;/td&gt;&lt;td&gt;Balance&lt;/td&gt;&lt;td&gt;Due on&lt;/td&gt;&lt;/tr&gt;&lt;thead&gt;&lt;tbody&gt;';&#xD;
&#xD;
        foreach ($feesarray as $key =&gt; $value) {&#xD;
&#xD;
            $content_details_array["formelements"]["fees_table"].='&lt;tr&gt;';&#xD;
            foreach ($value as $key1 =&gt; $value1) {&#xD;
                if ($key1 != "first_name") {&#xD;
                    $content_details_array["formelements"]["fees_table"].='&lt;td&gt;';&#xD;
                    $content_details_array["formelements"]["fees_table"].=$value1;&#xD;
                    $content_details_array["formelements"]["fees_table"].='&lt;/td&gt;';&#xD;
                }&#xD;
            }&#xD;
            $content_details_array["formelements"]["fees_table"].='&lt;/tr&gt;';&#xD;
        }&#xD;
        $content_details_array["formelements"]["fees_table"].="&lt;/tbody&gt;&lt;/div&gt;&lt;/table&gt;";&#xD;
}</beforewrite><afterwrite>%24this-%3Ecolumn+%3D+array%28%22fees_dues.id%22%2C+%22fees_dues.fees_type_id%22%2C+%22fees_dues.fees_amount%22%2C+%22fees_dues.paid%22%2C+%22fees_dues.status%22%2C+%22fees_type.fees_type%22%2C+%22fees_type.fees_priority%22%2C+%22fees_type.fees_period%22%29%3B%0D%0A++++++++%24this-%3Etable+%3D+%27fees_dues%27%3B%0D%0A++++++++%24this-%3Ejoin_condition+%3D+%22+left+join+fees_type+on+fees_type.id%3Dfees_dues.fees_type_id%22%3B%0D%0A++++++++%24fees_dues+%3D+%24this-%3EaddOrderBy%28%22fees_type.fees_priority+asc%22%29-%3EaddWhereCondition%28%22student_id%3D%22+.+%24this-%3Estudent_id%29-%3Eselect%28%29-%3EexecuteRead%28%29%3B%0D%0A%0D%0A%0D%0A++++++++%24payments+%3D+array%28%29%3B%0D%0A%0D%0A++++++++foreach+%28%24fees_dues+as+%24key+%3D%3E+%24value%29+%7B%0D%0A%0D%0A++++++++++++if+%28%24value%5B%27fees_amount%27%5D+%3E+%24value%5B%27paid%27%5D%29+%7B%0D%0A++++++++++++++++%24yettobepaid+%3D+%24value%5B%27fees_amount%27%5D+-+%24value%5B%27paid%27%5D%3B%0D%0A++++++++++++++++%24balance_amount+%3D+%24_POST%5B%27pay%27%5D+-+%24yettobepaid%3B%0D%0A++++++++++++++++if+%28%24balance_amount+%3E%3D+0%29+%7B%0D%0A++++++++++++++++++++%24payments%5B%24value%5B%27id%27%5D%5D+%3D+%24value%5B%27paid%27%5D+%2B+%24yettobepaid%3B%0D%0A++++++++++++++++++++%24_POST%5B%27pay%27%5D+%3D+%24_POST%5B%27pay%27%5D+-+%24yettobepaid%3B%0D%0A++++++++++++++++%7D+elseif+%28%24balance_amount+%3C+0%29+%7B%0D%0A++++++++++++++++++++%24payments%5B%24value%5B%27id%27%5D%5D+%3D+%24value%5B%27paid%27%5D+%2B+%24_POST%5B%27pay%27%5D%3B%0D%0A++++++++++++++++++++%24_POST%5B%27pay%27%5D+%3D+0%3B%0D%0A++++++++++++++++++++break%3B%0D%0A++++++++++++++++%7D%0D%0A++++++++++++%7D%0D%0A++++++++%7D%0D%0A%0D%0A++++++++foreach+%28%24payments+as+%24key+%3D%3E+%24value%29+%7B%0D%0A++++++++++++%24this-%3Ecolumn+%3D+array%28%27paid%27+%3D%3E+%24value%29%3B%0D%0A++++++++++++%24this-%3Etable+%3D+%27fees_dues%27%3B%0D%0A++++++++++++%24fees_dues+%3D+%24this-%3EaddWhereCondition%28%27id%3D%27+.+%24key%29-%3Eupdate%28%29-%3EexecuteWrite%28%29%3B%0D%0A++++++++++++%3B%0D%0A++++++++%7D%0D%0A++++</afterwrite><class_id>Class Id</class_id><class_id_type>hidden</class_id_type><class_id_static_data></class_id_static_data><class_id_column_order></class_id_column_order><class_id_column_group></class_id_column_group><class_id_column_group_order></class_id_column_group_order><class_id_placeholder></class_id_placeholder><class_id_error>number</class_id_error><class_id_validation_pattern_value></class_id_validation_pattern_value><class_id_dependent></class_id_dependent><class_id_dependent_query></class_id_dependent_query><class_id_dependentshowhide_condition></class_id_dependentshowhide_condition><class_id_default_value></class_id_default_value><student_id>Student Id</student_id><student_id_type>hidden</student_id_type><student_id_static_data></student_id_static_data><student_id_column_order></student_id_column_order><student_id_column_group></student_id_column_group><student_id_column_group_order></student_id_column_group_order><student_id_placeholder></student_id_placeholder><student_id_error>number</student_id_error><student_id_validation_pattern_value></student_id_validation_pattern_value><student_id_dependent></student_id_dependent><student_id_dependent_query></student_id_dependent_query><student_id_dependentshowhide_condition></student_id_dependentshowhide_condition><student_id_default_value></student_id_default_value><bill_no>Bill No</bill_no><bill_no_type>text</bill_no_type><bill_no_static_data></bill_no_static_data><bill_no_column_order>1</bill_no_column_order><bill_no_column_group></bill_no_column_group><bill_no_column_group_order></bill_no_column_group_order><bill_no_placeholder></bill_no_placeholder><bill_no_error>number</bill_no_error><bill_no_validation_pattern_value></bill_no_validation_pattern_value><bill_no_dependent></bill_no_dependent><bill_no_dependent_query></bill_no_dependent_query><bill_no_dependentshowhide_condition>$("#row_bank_name").hide();&#xD;
$("#row_cheque_no").hide();</bill_no_dependentshowhide_condition><bill_no_default_value>~~bill_no1~~</bill_no_default_value><payment_mode>Payment Mode</payment_mode><payment_mode_type>select</payment_mode_type><payment_mode_static_data>"Cheque"=&gt;"Cheque", "Cash"=&gt;"Cash"</payment_mode_static_data><payment_mode_column_order>2</payment_mode_column_order><payment_mode_column_group></payment_mode_column_group><payment_mode_column_group_order></payment_mode_column_group_order><payment_mode_mandatory>on</payment_mode_mandatory><payment_mode_placeholder></payment_mode_placeholder><payment_mode_error>no_validations</payment_mode_error><payment_mode_validation_pattern_value></payment_mode_validation_pattern_value><payment_mode_dependent></payment_mode_dependent><payment_mode_dependent_query></payment_mode_dependent_query><payment_mode_dependentshowhide_condition>change===&gt;function(){&#xD;
if($(this).val()=="Cash"){&#xD;
$("#row_bank_name").hide();&#xD;
$("#row_cheque_no").hide();}&#xD;
else {$("#row_bank_name").show();&#xD;
$("#row_cheque_no").show();}&#xD;
}</payment_mode_dependentshowhide_condition><payment_mode_default_value></payment_mode_default_value><cheque_no>Cheque No</cheque_no><cheque_no_type>text</cheque_no_type><cheque_no_static_data></cheque_no_static_data><cheque_no_column_order>3</cheque_no_column_order><cheque_no_column_group></cheque_no_column_group><cheque_no_column_group_order></cheque_no_column_group_order><cheque_no_placeholder></cheque_no_placeholder><cheque_no_error>no_validations</cheque_no_error><cheque_no_validation_pattern_value></cheque_no_validation_pattern_value><cheque_no_dependent></cheque_no_dependent><cheque_no_dependent_query></cheque_no_dependent_query><cheque_no_dependentshowhide_condition></cheque_no_dependentshowhide_condition><cheque_no_default_value></cheque_no_default_value><bank_name>Bank Name</bank_name><bank_name_type>text</bank_name_type><bank_name_static_data></bank_name_static_data><bank_name_column_order>4</bank_name_column_order><bank_name_column_group></bank_name_column_group><bank_name_column_group_order></bank_name_column_group_order><bank_name_placeholder></bank_name_placeholder><bank_name_error>no_validations</bank_name_error><bank_name_validation_pattern_value></bank_name_validation_pattern_value><bank_name_dependent></bank_name_dependent><bank_name_dependent_query></bank_name_dependent_query><bank_name_dependentshowhide_condition></bank_name_dependentshowhide_condition><bank_name_default_value></bank_name_default_value><chellan_no>Chellan No</chellan_no><chellan_no_type>text</chellan_no_type><chellan_no_static_data></chellan_no_static_data><chellan_no_column_order>5</chellan_no_column_order><chellan_no_column_group></chellan_no_column_group><chellan_no_column_group_order></chellan_no_column_group_order><chellan_no_mandatory>on</chellan_no_mandatory><chellan_no_placeholder></chellan_no_placeholder><chellan_no_error>no_validations</chellan_no_error><chellan_no_validation_pattern_value></chellan_no_validation_pattern_value><chellan_no_dependent></chellan_no_dependent><chellan_no_dependent_query></chellan_no_dependent_query><chellan_no_dependentshowhide_condition></chellan_no_dependentshowhide_condition><chellan_no_default_value></chellan_no_default_value><pay>Pay</pay><pay_type>text</pay_type><pay_static_data></pay_static_data><pay_column_order>6</pay_column_order><pay_column_group></pay_column_group><pay_column_group_order></pay_column_group_order><pay_mandatory>on</pay_mandatory><pay_placeholder></pay_placeholder><pay_error>no_validations</pay_error><pay_validation_pattern_value></pay_validation_pattern_value><pay_dependent></pay_dependent><pay_dependent_query></pay_dependent_query><pay_dependentshowhide_condition></pay_dependentshowhide_condition><pay_default_value></pay_default_value><branch_id>Branch Id</branch_id><branch_id_type>nocontrol</branch_id_type><branch_id_static_data></branch_id_static_data><branch_id_column_order></branch_id_column_order><branch_id_column_group></branch_id_column_group><branch_id_column_group_order></branch_id_column_group_order><branch_id_placeholder></branch_id_placeholder><branch_id_error>number</branch_id_error><branch_id_validation_pattern_value></branch_id_validation_pattern_value><branch_id_dependent></branch_id_dependent><branch_id_dependent_query></branch_id_dependent_query><branch_id_dependentshowhide_condition></branch_id_dependentshowhide_condition><branch_id_default_value></branch_id_default_value><date_timestamp>Date Timestamp</date_timestamp><date_timestamp_type>nocontrol</date_timestamp_type><date_timestamp_static_data></date_timestamp_static_data><date_timestamp_column_order></date_timestamp_column_order><date_timestamp_column_group></date_timestamp_column_group><date_timestamp_column_group_order></date_timestamp_column_group_order><date_timestamp_placeholder></date_timestamp_placeholder><date_timestamp_error>no_validations</date_timestamp_error><date_timestamp_validation_pattern_value></date_timestamp_validation_pattern_value><date_timestamp_dependent></date_timestamp_dependent><date_timestamp_dependent_query></date_timestamp_dependent_query><date_timestamp_dependentshowhide_condition></date_timestamp_dependentshowhide_condition><date_timestamp_default_value></date_timestamp_default_value><status>Status</status><status_type>nocontrol</status_type><status_static_data></status_static_data><status_column_order></status_column_order><status_column_group></status_column_group><status_column_group_order></status_column_group_order><status_placeholder></status_placeholder><status_error>number</status_error><status_validation_pattern_value></status_validation_pattern_value><status_dependent></status_dependent><status_dependent_query></status_dependent_query><status_dependentshowhide_condition></status_dependentshowhide_condition><status_default_value></status_default_value><__columns>id|class_id|student_id|bill_no|payment_mode|cheque_no|bank_name|chellan_no|pay|branch_id|date_timestamp|status</__columns><submit>Submit</submit><__layout>%5BBill+No%5D%5BPayment+Mode%5D%5BCheque+No%5D%5BBank+Name%5D%5BChellan+No%5D%5BPay%5D</__layout></gbase_config>
